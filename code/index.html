<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>Code | GraphQL</title><meta name="viewport" content="width=640"/><meta property="og:title" content="GraphQL: A query language for APIs."/><meta property="og:description" content="GraphQL provides a complete description of the data in your API, gives clients the power to ask for exactly what they need and nothing more, makes it easier to evolve APIs over time, and enables powerful developer tools."/><meta property="og:type" content="website"/><meta property="og:url" content="http://graphql.org/"/><meta property="og:image" content="/img/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@graphql"/><meta name="twitter:title" content="GraphQL: A query language for APIs."/><meta name="twitter:description" content="GraphQL gives clients the power to ask for exactly what they need and nothing more, making it easier to evolve APIs over time."/><meta name="twitter:image" content="/img/twitter_image.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="home" type="application/rss+xml" href="/blog/rss.xml" title="GraphQL Team Blog"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/></head><body><header><section><a class="nav-home" href="/"><img class="nav-logo" src="/img/logo.svg" width="30" height="30"/>GraphQL</a><nav><a href="/learn/">学习</a><a href="/code/" class="active">代码</a><a href="/community/">社区</a><a href="/blog/">博客</a><a href="http://facebook.github.io/graphql/" target="_blank" rel="noopener noreferrer">定义</a><a href="https://github.com/willin/graphql.js.cool/issues/1" target="_blank" rel="noopener noreferrer">翻译纠错</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="搜索文档..."/></div></section></header><section><div class="documentationContent"><div class="inner-content"><h1>开发</h1><div><p>GraphQL 支持许多不同的开发语言. 这个列表包含了一些更流行的服务器端框架,客户端库和一些有用的小东西.</p><h2><a class="anchor" name=""></a>服务器端库 <a class="hash-link" href="#">#</a></h2><p>除了 GraphQL <a href="#javascript">参考 JavaScript 实现</a>, 服务器端库包括:</p><ul><li><a href="#c-net">C# / .NET</a></li><li><a href="#clojure">Clojure</a></li><li><a href="#elixir">Elixir</a></li><li><a href="#erlang">Erlang</a></li><li><a href="#go">Go</a></li><li><a href="#java">Java</a></li><li><a href="#javascript">JavaScript</a></li><li><a href="#php">PHP</a></li><li><a href="#python">Python</a></li><li><a href="#scala">Scala</a></li><li><a href="#ruby">Ruby</a></li></ul><h3><a class="anchor" name="c-net"></a>C# / .NET <a class="hash-link" href="#c-net">#</a></h3><ul><li><a href="https://github.com/graphql-dotnet/graphql-dotnet" target="_blank" rel="nofollow noopener noreferrer">graphql-dotnet</a>: GraphQL for .NET</li><li><a href="https://github.com/ckimes89/graphql-net" target="_blank" rel="nofollow noopener noreferrer">graphql-net</a>: 将 GraphQL 转换成 IQueryable</li></ul><h3><a class="anchor" name="clojure"></a>Clojure <a class="hash-link" href="#clojure">#</a></h3><h4><a class="anchor" name="alumbra-https-github-com-alumbra-alumbra"></a><a href="https://github.com/alumbra/alumbra" target="_blank" rel="nofollow noopener noreferrer">alumbra</a> <a class="hash-link" href="#alumbra-https-github-com-alumbra-alumbra">#</a></h4><p>适用于 Clojure 的一组可重用的 GraphQL 组件, 符合 <a href="https://github.com/alumbra/alumbra.spec" target="_blank" rel="nofollow noopener noreferrer">alumbra.spec</a> 的数据结构。</p><pre class="prism language-clojure"><span class="punctuation">(</span>require &#x27;<span class="punctuation">[</span>alumbra<span class="punctuation">.</span>core <span class="punctuation">:</span><span class="keyword">as</span> alumbra<span class="punctuation">]</span>
         &#x27;<span class="punctuation">[</span>claro<span class="punctuation">.</span>data <span class="punctuation">:</span><span class="keyword">as</span> data<span class="punctuation">]</span><span class="punctuation">)</span>

<span class="punctuation">(</span>def schema
  &quot;type Person <span class="punctuation">{</span> name<span class="punctuation">:</span> String<span class="operator">!</span><span class="punctuation">,</span> friends<span class="punctuation">:</span> <span class="punctuation">[</span>Person<span class="operator">!</span><span class="punctuation">]</span><span class="operator">!</span> <span class="punctuation">}</span>
   type QueryRoot <span class="punctuation">{</span> <span class="function">person</span><span class="punctuation">(</span>id<span class="punctuation">:</span> ID<span class="operator">!</span><span class="punctuation">)</span><span class="punctuation">:</span> Person<span class="punctuation">,</span> me<span class="punctuation">:</span> Person<span class="operator">!</span> <span class="punctuation">}</span>
   schema <span class="punctuation">{</span> query<span class="punctuation">:</span> QueryRoot <span class="punctuation">}</span>&quot;<span class="punctuation">)</span>

<span class="punctuation">(</span>defrecord Person <span class="punctuation">[</span>id<span class="punctuation">]</span>
  data<span class="operator">/</span>Resolvable
  <span class="punctuation">(</span>resolve<span class="operator">!</span> <span class="punctuation">[</span>_ _<span class="punctuation">]</span>
    <span class="punctuation">{</span><span class="punctuation">:</span>name    <span class="punctuation">(</span>str <span class="string">&quot;Person #&quot;</span> id<span class="punctuation">)</span>
     <span class="punctuation">:</span>friends <span class="punctuation">(</span>map <span class="operator">-</span><span class="operator">&gt;</span>Person  <span class="punctuation">(</span>range <span class="punctuation">(</span>inc id<span class="punctuation">)</span> <span class="punctuation">(</span><span class="operator">+</span> id <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">)</span>

<span class="punctuation">(</span>def QueryRoot
  <span class="punctuation">{</span><span class="punctuation">:</span>person <span class="punctuation">(</span>map<span class="operator">-</span><span class="operator">&gt;</span>Person <span class="punctuation">{</span><span class="punctuation">}</span><span class="punctuation">)</span>
   <span class="punctuation">:</span>me     <span class="punctuation">(</span>map<span class="operator">-</span><span class="operator">&gt;</span>Person <span class="punctuation">{</span><span class="punctuation">:</span>id <span class="number">0</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">}</span><span class="punctuation">)</span>

<span class="punctuation">(</span>def app
  <span class="punctuation">(</span>alumbra<span class="operator">/</span>handler
    <span class="punctuation">{</span><span class="punctuation">:</span>schema schema
     <span class="punctuation">:</span>query  QueryRoot<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">)</span>

<span class="punctuation">(</span>defonce my<span class="operator">-</span>graphql<span class="operator">-</span>server
  <span class="punctuation">(</span>aleph<span class="punctuation">.</span>http<span class="operator">/</span>start<span class="operator">-</span>server #&#x27;app <span class="punctuation">{</span><span class="punctuation">:</span>port <span class="number">3000</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">)</span></pre><pre class="prism language-bash">$ curl <span class="operator">-</span>XPOST <span class="string">&quot;http://0:3000&quot;</span> <span class="operator">-</span>H<span class="string">&#x27;Content-Type: application/json&#x27;</span> <span class="operator">-</span>d&#x27;<span class="punctuation">{</span>
  <span class="string">&quot;query&quot;</span><span class="punctuation">:</span> <span class="string">&quot;{ me { name, friends { name } } }&quot;</span>
<span class="punctuation">}</span>&#x27;
<span class="punctuation">{</span><span class="string">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">{</span><span class="string">&quot;me&quot;</span><span class="punctuation">:</span><span class="punctuation">{</span><span class="string">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;Person #0&quot;</span><span class="punctuation">,</span><span class="string">&quot;friends&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">{</span><span class="string">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;Person #1&quot;</span><span class="punctuation">}</span><span class="punctuation">,</span><span class="punctuation">{</span><span class="string">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;Person #2&quot;</span><span class="punctuation">}</span><span class="punctuation">]</span><span class="punctuation">}</span><span class="punctuation">}</span><span class="punctuation">}</span></pre><h4><a class="anchor" name="graphql-clj-https-github-com-tendant-graphql-clj"></a><a href="https://github.com/tendant/graphql-clj" target="_blank" rel="nofollow noopener noreferrer">graphql-clj</a> <a class="hash-link" href="#graphql-clj-https-github-com-tendant-graphql-clj">#</a></h4><p>提供 GraphQL 实现的 Clojure 库。</p><p>用 <code>graphql-clj</code> 实现的 Hello World 代码:</p><pre class="prism language-clojure">

<span class="punctuation">(</span>def schema &quot;type QueryRoot <span class="punctuation">{</span>
    hello<span class="punctuation">:</span> String
  <span class="punctuation">}</span>&quot;<span class="punctuation">)</span>

<span class="punctuation">(</span>defn resolver<span class="operator">-</span>fn <span class="punctuation">[</span>type<span class="operator">-</span>name field<span class="operator">-</span>name<span class="punctuation">]</span>
  <span class="punctuation">(</span><span class="keyword">get</span><span class="operator">-</span><span class="keyword">in</span> <span class="punctuation">{</span><span class="string">&quot;QueryRoot&quot;</span> <span class="punctuation">{</span><span class="string">&quot;hello&quot;</span> <span class="punctuation">(</span>fn <span class="punctuation">[</span>context parent <span class="operator">&amp;</span> rest<span class="punctuation">]</span>
                              <span class="string">&quot;Hello world!&quot;</span><span class="punctuation">)</span><span class="punctuation">}</span><span class="punctuation">}</span>
          <span class="punctuation">[</span>type<span class="operator">-</span>name field<span class="operator">-</span>name<span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">)</span>

<span class="punctuation">(</span>require &#x27;<span class="punctuation">[</span>graphql<span class="operator">-</span>clj<span class="punctuation">.</span>executor <span class="punctuation">:</span><span class="keyword">as</span> executor<span class="punctuation">]</span><span class="punctuation">)</span>

<span class="punctuation">(</span>executor<span class="operator">/</span>execute nil schema resolver<span class="operator">-</span>fn <span class="string">&quot;{ hello }&quot;</span><span class="punctuation">)</span></pre><ul><li><a href="https://github.com/walmartlabs/lacinia" target="_blank" rel="nofollow noopener noreferrer">lacinia</a>: 全面实施GraphQL规范, 旨在保持外部遵守规范.</li></ul><h3><a class="anchor" name="elixir"></a>Elixir <a class="hash-link" href="#elixir">#</a></h3><ul><li><a href="https://github.com/absinthe-graphql/absinthe" target="_blank" rel="nofollow noopener noreferrer">absinthe</a>: GraphQL for Elixir.</li><li><a href="https://github.com/graphql-elixir/graphql" target="_blank" rel="nofollow noopener noreferrer">graphql-elixir</a>: Facebook GraphQL Elixir.</li></ul><h3><a class="anchor" name="erlang"></a>Erlang <a class="hash-link" href="#erlang">#</a></h3><ul><li><a href="https://github.com/shopgun/graphql-erlang" target="_blank" rel="nofollow noopener noreferrer">graphql-erlang</a>: GraphQL for Erlang.</li></ul><h3><a class="anchor" name="go"></a>Go <a class="hash-link" href="#go">#</a></h3><ul><li><a href="https://github.com/graphql-go/graphql" target="_blank" rel="nofollow noopener noreferrer">graphql-go</a>: Go / Golang 的 GraphQL 的实现.</li><li><a href="https://github.com/graphql-go/relay" target="_blank" rel="nofollow noopener noreferrer">graphql-relay-go</a>: 一个Go / Golang 库, 用于构建支持反应 react-relay 的 graphql-go 服务器.</li><li><a href="https://github.com/neelance/graphql-go" target="_blank" rel="nofollow noopener noreferrer">neelance/graphql-go</a>: Golang 活跃的 GraphQL 实现.</li></ul><h3><a class="anchor" name="java"></a>Java <a class="hash-link" href="#java">#</a></h3><h4><a class="anchor" name="graphql-java-https-github-com-graphql-java-graphql-java"></a><a href="https://github.com/graphql-java/graphql-java" target="_blank" rel="nofollow noopener noreferrer">graphql-java</a> <a class="hash-link" href="#graphql-java-https-github-com-graphql-java-graphql-java">#</a></h4><p>用于构建GraphQL API的Java库.</p><p>用 <code>graphql-java</code> 实现的 hello world 代码:</p><pre class="prism language-java"><span class="keyword">import</span> graphql<span class="punctuation">.</span>ExecutionResult<span class="punctuation">;</span>
<span class="keyword">import</span> graphql<span class="punctuation">.</span>GraphQL<span class="punctuation">;</span>
<span class="keyword">import</span> graphql<span class="punctuation">.</span>schema<span class="punctuation">.</span>GraphQLSchema<span class="punctuation">;</span>
<span class="keyword">import</span> graphql<span class="punctuation">.</span>schema<span class="punctuation">.</span>StaticDataFetcher<span class="punctuation">;</span>
<span class="keyword">import</span> graphql<span class="punctuation">.</span>schema<span class="punctuation">.</span>idl<span class="punctuation">.</span>RuntimeWiring<span class="punctuation">;</span>
<span class="keyword">import</span> graphql<span class="punctuation">.</span>schema<span class="punctuation">.</span>idl<span class="punctuation">.</span>SchemaGenerator<span class="punctuation">;</span>
<span class="keyword">import</span> graphql<span class="punctuation">.</span>schema<span class="punctuation">.</span>idl<span class="punctuation">.</span>SchemaParser<span class="punctuation">;</span>
<span class="keyword">import</span> graphql<span class="punctuation">.</span>schema<span class="punctuation">.</span>idl<span class="punctuation">.</span>TypeDefinitionRegistry<span class="punctuation">;</span>

<span class="keyword">import</span> <span class="keyword">static</span> graphql<span class="punctuation">.</span>schema<span class="punctuation">.</span>idl<span class="punctuation">.</span>RuntimeWiring<span class="punctuation">.</span>newRuntimeWiring<span class="punctuation">;</span>

<span class="keyword">public</span> <span class="keyword">class</span> <span class="class-name">HelloWorld</span> <span class="punctuation">{</span>

    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="function">main</span><span class="punctuation">(</span>String<span class="punctuation">[</span><span class="punctuation">]</span> args<span class="punctuation">)</span> <span class="punctuation">{</span>
        String schema <span class="operator">=</span> <span class="string">&quot;type Query{hello: String} schema{query: Query}&quot;</span><span class="punctuation">;</span>

        SchemaParser schemaParser <span class="operator">=</span> <span class="keyword">new</span> <span class="class-name">SchemaParser</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
        TypeDefinitionRegistry typeDefinitionRegistry <span class="operator">=</span> schemaParser<span class="punctuation">.</span><span class="function">parse</span><span class="punctuation">(</span>schema<span class="punctuation">)</span><span class="punctuation">;</span>

        RuntimeWiring runtimeWiring <span class="operator">=</span> <span class="function">newRuntimeWiring</span><span class="punctuation">(</span><span class="punctuation">)</span>
                <span class="punctuation">.</span><span class="function">type</span><span class="punctuation">(</span><span class="string">&quot;Query&quot;</span><span class="punctuation">,</span> builder <span class="operator">-</span><span class="operator">&gt;</span> builder<span class="punctuation">.</span><span class="function">dataFetcher</span><span class="punctuation">(</span><span class="string">&quot;hello&quot;</span><span class="punctuation">,</span> <span class="keyword">new</span> <span class="class-name">StaticDataFetcher</span><span class="punctuation">(</span><span class="string">&quot;world&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span>
                <span class="punctuation">.</span><span class="function">build</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>

        SchemaGenerator schemaGenerator <span class="operator">=</span> <span class="keyword">new</span> <span class="class-name">SchemaGenerator</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
        GraphQLSchema graphQLSchema <span class="operator">=</span> schemaGenerator<span class="punctuation">.</span><span class="function">makeExecutableSchema</span><span class="punctuation">(</span>typeDefinitionRegistry<span class="punctuation">,</span> runtimeWiring<span class="punctuation">)</span><span class="punctuation">;</span>

        GraphQL build <span class="operator">=</span> GraphQL<span class="punctuation">.</span><span class="function">newGraphQL</span><span class="punctuation">(</span>graphQLSchema<span class="punctuation">)</span><span class="punctuation">.</span><span class="function">build</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
        ExecutionResult executionResult <span class="operator">=</span> build<span class="punctuation">.</span><span class="function">execute</span><span class="punctuation">(</span><span class="string">&quot;{hello}&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>

        System<span class="punctuation">.</span>out<span class="punctuation">.</span><span class="function">println</span><span class="punctuation">(</span>executionResult<span class="punctuation">.</span><span class="function">getData</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function">toString</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
        <span spellcheck="true" class="comment">// Prints: {hello=world}</span>
    <span class="punctuation">}</span>
<span class="punctuation">}</span></pre><p>有关设置的更多信息, 请参阅 <a href="https://github.com/graphql-java/graphql-java" target="_blank" rel="nofollow noopener noreferrer">graphql-java文档</a>.</p><h3><a class="anchor" name="javascript"></a>JavaScript <a class="hash-link" href="#javascript">#</a></h3><h4><a class="anchor" name="graphql-js-graphql-js-github-https-github-com-graphql-graphql-js-npm-https-www-npmjs-com-package-graphql"></a><a href="/graphql-js/">GraphQL.js</a> (<a href="https://github.com/graphql/graphql-js/" target="_blank" rel="nofollow noopener noreferrer">github</a>) (<a href="https://www.npmjs.com/package/graphql" target="_blank" rel="nofollow noopener noreferrer">npm</a>) <a class="hash-link" href="#graphql-js-graphql-js-github-https-github-com-graphql-graphql-js-npm-https-www-npmjs-com-package-graphql">#</a></h4><p>GraphQL 规范的参考实现, 专为在 Node.js 环境中运行 GraphQL 而设计.</p><p>通过 命令行 执行 <code>GraphQL.js</code> hello world 脚本:</p><pre class="prism language-bash">npm install graphql</pre><p>然后执行 <code>node hello.js</code>.</p><p><code>hello.js</code>源码:</p><pre class="prism language-js"><span class="keyword">var</span> <span class="punctuation">{</span> graphql<span class="punctuation">,</span> buildSchema <span class="punctuation">}</span> <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;graphql&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">var</span> schema <span class="operator">=</span> <span class="function">buildSchema</span><span class="punctuation">(</span><span class="template-string"><span class="string">`
  type Query {
    hello: String
  }
`</span></span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">var</span> root <span class="operator">=</span> <span class="punctuation">{</span> hello<span class="punctuation">:</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=</span><span class="operator">&gt;</span> <span class="string">&#x27;Hello world!&#x27;</span> <span class="punctuation">}</span><span class="punctuation">;</span>

<span class="function">graphql</span><span class="punctuation">(</span>schema<span class="punctuation">,</span> <span class="string">&#x27;{ hello }&#x27;</span><span class="punctuation">,</span> root<span class="punctuation">)</span><span class="punctuation">.</span><span class="function">then</span><span class="punctuation">(</span><span class="punctuation">(</span>response<span class="punctuation">)</span> <span class="operator">=</span><span class="operator">&gt;</span> <span class="punctuation">{</span>
  console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span>response<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span></pre><h4><a class="anchor" name="express-graphql-graphql-js-running-an-express-graphql-server-github-https-github-com-graphql-express-graphql-npm-https-www-npmjs-com-package-express-graphql"></a><a href="/graphql-js/running-an-express-graphql-server/">express-graphql</a> (<a href="https://github.com/graphql/express-graphql" target="_blank" rel="nofollow noopener noreferrer">github</a>) (<a href="https://www.npmjs.com/package/express-graphql" target="_blank" rel="nofollow noopener noreferrer">npm</a>) <a class="hash-link" href="#express-graphql-graphql-js-running-an-express-graphql-server-github-https-github-com-graphql-express-graphql-npm-https-www-npmjs-com-package-express-graphql">#</a></h4><p>通过 Express 实现的 GraphQL 参考实现, 你可以联合 Express 运行或独立运行.</p><p>运行一个 <code>express-graphql</code> hello world 服务器:</p><pre class="prism language-bash">npm install express express<span class="operator">-</span>graphql graphql</pre><p>然后执行 <code>node server.js</code>.</p><p><code>server.js</code> 源码:</p><pre class="prism language-js"><span class="keyword">var</span> express <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;express&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">var</span> graphqlHTTP <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;express-graphql&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">var</span> <span class="punctuation">{</span> buildSchema <span class="punctuation">}</span> <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;graphql&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">var</span> schema <span class="operator">=</span> <span class="function">buildSchema</span><span class="punctuation">(</span><span class="template-string"><span class="string">`
  type Query {
    hello: String
  }
`</span></span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">var</span> root <span class="operator">=</span> <span class="punctuation">{</span> hello<span class="punctuation">:</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=</span><span class="operator">&gt;</span> <span class="string">&#x27;Hello world!&#x27;</span> <span class="punctuation">}</span><span class="punctuation">;</span>

<span class="keyword">var</span> app <span class="operator">=</span> <span class="function">express</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
app<span class="punctuation">.</span><span class="function">use</span><span class="punctuation">(</span><span class="string">&#x27;/graphql&#x27;</span><span class="punctuation">,</span> <span class="function">graphqlHTTP</span><span class="punctuation">(</span><span class="punctuation">{</span>
  schema<span class="punctuation">:</span> schema<span class="punctuation">,</span>
  rootValue<span class="punctuation">:</span> root<span class="punctuation">,</span>
  graphiql<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
app<span class="punctuation">.</span><span class="function">listen</span><span class="punctuation">(</span><span class="number">4000</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=</span><span class="operator">&gt;</span> console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="string">&#x27;Now browse to localhost:4000/graphql&#x27;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span></pre><h4><a class="anchor" name="graphql-server-http-dev-apollodata-com-tools-graphql-server-index-html-github-https-github-com-apollostack-graphql-server-npm-https-www-npmjs-com-package-graphql-server-express"></a><a href="http://dev.apollodata.com/tools/graphql-server/index.html" target="_blank" rel="nofollow noopener noreferrer">graphql-server</a> (<a href="https://github.com/apollostack/graphql-server" target="_blank" rel="nofollow noopener noreferrer">github</a>) (<a href="https://www.npmjs.com/package/graphql-server-express" target="_blank" rel="nofollow noopener noreferrer">npm</a>) <a class="hash-link" href="#graphql-server-http-dev-apollodata-com-tools-graphql-server-index-html-github-https-github-com-apollostack-graphql-server-npm-https-www-npmjs-com-package-graphql-server-express">#</a></h4><p>一组来自 Apollo 的 GraphQL 服务器软件包, 可与各种Node.js HTTP框架（Express, Connect, Hapi, Koa等）配合工作.</p><p>运行一个 graphql-server-express hello world:</p><pre class="prism language-bash">npm install graphql<span class="operator">-</span>server<span class="operator">-</span>express body<span class="operator">-</span>parser express graphql graphql<span class="operator">-</span>tools</pre><p>然后运行 <code>node server.js</code>.</p><p><code>server.js</code>源码:</p><pre class="prism language-js"><span class="keyword">var</span> express <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;express&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">var</span> bodyParser <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;body-parser&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">var</span> <span class="punctuation">{</span> graphqlExpress<span class="punctuation">,</span> graphiqlExpress <span class="punctuation">}</span> <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;graphql-server-express&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">var</span> <span class="punctuation">{</span> makeExecutableSchema <span class="punctuation">}</span> <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;graphql-tools&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span class="keyword">var</span> typeDefs <span class="operator">=</span> <span class="punctuation">[</span><span class="template-string"><span class="string">`
type Query {
  hello: String
}

schema {
  query: Query
}`</span></span><span class="punctuation">]</span><span class="punctuation">;</span>

<span class="keyword">var</span> resolvers <span class="operator">=</span> <span class="punctuation">{</span>
  Query<span class="punctuation">:</span> <span class="punctuation">{</span>
    <span class="function">hello</span><span class="punctuation">(</span>root<span class="punctuation">)</span> <span class="punctuation">{</span>
      <span class="keyword">return</span> <span class="string">&#x27;world&#x27;</span><span class="punctuation">;</span>
    <span class="punctuation">}</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span><span class="punctuation">;</span>

<span class="keyword">var</span> schema <span class="operator">=</span> <span class="function">makeExecutableSchema</span><span class="punctuation">(</span><span class="punctuation">{</span>typeDefs<span class="punctuation">,</span> resolvers<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">var</span> app <span class="operator">=</span> <span class="function">express</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
app<span class="punctuation">.</span><span class="function">use</span><span class="punctuation">(</span><span class="string">&#x27;/graphql&#x27;</span><span class="punctuation">,</span> bodyParser<span class="punctuation">.</span><span class="function">json</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">,</span> <span class="function">graphqlExpress</span><span class="punctuation">(</span><span class="punctuation">{</span>schema<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
app<span class="punctuation">.</span><span class="function">use</span><span class="punctuation">(</span><span class="string">&#x27;/graphiql&#x27;</span><span class="punctuation">,</span> <span class="function">graphiqlExpress</span><span class="punctuation">(</span><span class="punctuation">{</span>endpointURL<span class="punctuation">:</span> <span class="string">&#x27;/graphql&#x27;</span><span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
app<span class="punctuation">.</span><span class="function">listen</span><span class="punctuation">(</span><span class="number">4000</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=</span><span class="operator">&gt;</span> console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="string">&#x27;Now browse to localhost:4000/graphiql&#x27;</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span></pre><p>GraphQL Server 还支持所有 Node.js HTTP 服务器框架: Express, Connect, HAPI 和 Koa.</p><h3><a class="anchor" name="php"></a>PHP <a class="hash-link" href="#php">#</a></h3><ul><li><a href="https://github.com/webonyx/graphql-php" target="_blank" rel="nofollow noopener noreferrer">graphql-php</a>: GraphQL 的 PHP 实现</li><li><a href="https://github.com/ivome/graphql-relay-php" target="_blank" rel="nofollow noopener noreferrer">graphql-relay-php</a>: 一个帮助构建 GraphQL PHP服务器实现(支持 react-relay)的库.</li></ul><h3><a class="anchor" name="python"></a>Python <a class="hash-link" href="#python">#</a></h3><h4><a class="anchor" name="graphene-http-graphene-python-org-github-https-github-com-graphql-python-graphene"></a><a href="http://graphene-python.org/" target="_blank" rel="nofollow noopener noreferrer">Graphene</a> (<a href="https://github.com/graphql-python/graphene" target="_blank" rel="nofollow noopener noreferrer">github</a>) <a class="hash-link" href="#graphene-http-graphene-python-org-github-https-github-com-graphql-python-graphene">#</a></h4><p>用于构建 GraphQL API 的 Python 库.</p><p>运行 Graphene hello world 脚本:</p><pre class="prism language-bash">pip install graphene</pre><p>然后运行 <code>python hello.py</code>.</p><p><code>hello.py</code> 源码:</p><pre class="prism language-python"><span class="keyword">import</span> graphene

<span class="keyword">class</span> <span class="class-name">Query</span><span class="punctuation">(</span>graphene<span class="punctuation">.</span>ObjectType<span class="punctuation">)</span><span class="punctuation">:</span>
  hello <span class="operator">=</span> graphene<span class="punctuation">.</span><span class="function">String</span><span class="punctuation">(</span><span class="punctuation">)</span>

  def <span class="function">resolve_hello</span><span class="punctuation">(</span>self<span class="punctuation">,</span> args<span class="punctuation">,</span> context<span class="punctuation">,</span> info<span class="punctuation">)</span><span class="punctuation">:</span>
    <span class="keyword">return</span> <span class="string">&#x27;Hello world!&#x27;</span>

schema <span class="operator">=</span> graphene<span class="punctuation">.</span><span class="function">Schema</span><span class="punctuation">(</span>query<span class="operator">=</span>Query<span class="punctuation">)</span>
result <span class="operator">=</span> schema<span class="punctuation">.</span><span class="function">execute</span><span class="punctuation">(</span><span class="string">&#x27;{ hello }&#x27;</span><span class="punctuation">)</span>
<span class="function">print</span><span class="punctuation">(</span>result<span class="punctuation">.</span>data<span class="punctuation">[</span><span class="string">&#x27;hello&#x27;</span><span class="punctuation">]</span><span class="punctuation">)</span></pre><p>能够很好的绑定: <a href="https://facebook.github.io/relay/" target="_blank" rel="nofollow noopener noreferrer">Relay</a>, Django, SQLAlchemy, 和 Google App Engine.</p><h3><a class="anchor" name="ruby"></a>Ruby <a class="hash-link" href="#ruby">#</a></h3><h4><a class="anchor" name="graphql-ruby-https-github-com-rmosolgo-graphql-ruby"></a><a href="https://github.com/rmosolgo/graphql-ruby" target="_blank" rel="nofollow noopener noreferrer">graphql-ruby</a> <a class="hash-link" href="#graphql-ruby-https-github-com-rmosolgo-graphql-ruby">#</a></h4><p>用于构建 GraphQL API 的 Ruby 库.</p><p>运行 <code>graphql-ruby</code> 的 hello world 脚本:</p><pre class="prism language-bash">gem install graphql</pre><p>然后执行 <code>ruby hello.rb</code>.</p><p><code>hello.rb</code> 源码:</p><pre class="prism language-ruby">require <span class="string">&#x27;graphql&#x27;</span>

QueryType <span class="operator">=</span> GraphQL<span class="punctuation">:</span><span class="punctuation">:</span>ObjectType<span class="punctuation">.</span>define <span class="keyword">do</span>
  name <span class="string">&#x27;Query&#x27;</span>
  field <span class="punctuation">:</span>hello <span class="keyword">do</span>
    type types<span class="punctuation">.</span>String
    resolve <span class="operator">-</span><span class="operator">&gt;</span> <span class="punctuation">(</span>obj<span class="punctuation">,</span> args<span class="punctuation">,</span> ctx<span class="punctuation">)</span> <span class="punctuation">{</span> <span class="string">&#x27;Hello world!&#x27;</span> <span class="punctuation">}</span>
  end
end

Schema <span class="operator">=</span> GraphQL<span class="punctuation">:</span><span class="punctuation">:</span>Schema<span class="punctuation">.</span>define <span class="keyword">do</span>
  query QueryType
end

puts Schema<span class="punctuation">.</span><span class="function">execute</span><span class="punctuation">(</span><span class="string">&#x27;{ hello }&#x27;</span><span class="punctuation">)</span></pre><p>Relay 和 Rails 也很好的支持绑定.</p><h3><a class="anchor" name="scala"></a>Scala <a class="hash-link" href="#scala">#</a></h3><h4><a class="anchor" name="sangria-http-sangria-graphql-org-github-https-github-com-sangria-graphql-sangria-relay-https-facebook-github-io-relay-scala-graphql"></a><a href="http://sangria-graphql.org/" target="_blank" rel="nofollow noopener noreferrer">Sangria</a> (<a href="https://github.com/sangria-graphql/sangria" target="_blank" rel="nofollow noopener noreferrer">github</a>): 支持 <a href="https://facebook.github.io/relay/" target="_blank" rel="nofollow noopener noreferrer">Relay</a> 的 Scala GraphQL 库. <a class="hash-link" href="#sangria-http-sangria-graphql-org-github-https-github-com-sangria-graphql-sangria-relay-https-facebook-github-io-relay-scala-graphql">#</a></h4><p>用 <code>sangria</code> 实现的一个模型和查询 hello world:</p><pre class="prism language-scala"><span class="keyword">import</span> sangria<span class="punctuation">.</span>schema<span class="punctuation">.</span>_
<span class="keyword">import</span> sangria<span class="punctuation">.</span>execution<span class="punctuation">.</span>_
<span class="keyword">import</span> sangria<span class="punctuation">.</span>macros<span class="punctuation">.</span>_

val QueryType <span class="operator">=</span> <span class="function">ObjectType</span><span class="punctuation">(</span><span class="string">&quot;Query&quot;</span><span class="punctuation">,</span> fields<span class="punctuation">[</span>Unit<span class="punctuation">,</span> Unit<span class="punctuation">]</span><span class="punctuation">(</span>
  <span class="function">Field</span><span class="punctuation">(</span><span class="string">&quot;hello&quot;</span><span class="punctuation">,</span> StringType<span class="punctuation">,</span> resolve <span class="operator">=</span> _ ⇒ <span class="string">&quot;Hello world!&quot;</span><span class="punctuation">)</span>
<span class="punctuation">)</span><span class="punctuation">)</span>

val schema <span class="operator">=</span> <span class="function">Schema</span><span class="punctuation">(</span>QueryType<span class="punctuation">)</span>

val query <span class="operator">=</span> graphql<span class="string">&quot;{ hello }&quot;</span>

Executor<span class="punctuation">.</span><span class="function">execute</span><span class="punctuation">(</span>schema<span class="punctuation">,</span> query<span class="punctuation">)</span> map println</pre><h2><a class="anchor" name="graphql-clients"></a>GraphQL Clients <a class="hash-link" href="#graphql-clients">#</a></h2><ul><li><a href="#c-net-1">C# / .NET</a></li><li><a href="#go-1">Go</a></li><li><a href="#java-android">Java / Android</a></li><li><a href="#javascript-1">JavaScript</a></li><li><a href="#swift-objective-c-ios">Swift / Objective-C iOS</a></li></ul><h3><a class="anchor" name="c-net-1"></a>C# / .NET <a class="hash-link" href="#c-net-1">#</a></h3><ul><li><a href="https://github.com/bkniffler/graphql-net-client" target="_blank" rel="nofollow noopener noreferrer">graphql-net-client</a>: .NET GraphQL 客户端的基本示例.</li></ul><h3><a class="anchor" name="go-1"></a>Go <a class="hash-link" href="#go-1">#</a></h3><ul><li><a href="https://github.com/shurcooL/graphql#readme" target="_blank" rel="nofollow noopener noreferrer">graphql</a>: A GraphQL client implementation in Go.</li></ul><h3><a class="anchor" name="java-android"></a>Java / Android <a class="hash-link" href="#java-android">#</a></h3><ul><li><a href="https://github.com/apollographql/apollo-android" target="_blank" rel="nofollow noopener noreferrer">Apollo Android</a>: Java 实现支持强类型和缓存的 GraphQL 客户端.</li></ul><h3><a class="anchor" name="javascript-1"></a>JavaScript <a class="hash-link" href="#javascript-1">#</a></h3><ul><li><a href="https://facebook.github.io/relay/" target="_blank" rel="nofollow noopener noreferrer">Relay</a> (<a href="https://github.com/facebook/relay" target="_blank" rel="nofollow noopener noreferrer">github</a>) (<a href="https://www.npmjs.com/package/react-relay" target="_blank" rel="nofollow noopener noreferrer">npm</a>): Facebook 构建的与 GraphQL 后端通信的 React 应用程序框架.</li><li><a href="http://dev.apollodata.com/react/" target="_blank" rel="nofollow noopener noreferrer">Apollo Client</a> (<a href="https://github.com/apollostack/apollo-client" target="_blank" rel="nofollow noopener noreferrer">github</a>): 强大的JavaScript GraphQL客户端, 旨在与React, React Native, Angular 2或简单的 JavaScript 一起工作.</li><li><a href="https://github.com/kadirahq/lokka" target="_blank" rel="nofollow noopener noreferrer">Lokka</a>: 一个简单的JavaScript GraphQL客户端, 适用于所有JavaScript环境 - 浏览器, Node.js和React Native.</li></ul><h3><a class="anchor" name="swift-objective-c-ios"></a>Swift / Objective-C iOS <a class="hash-link" href="#swift-objective-c-ios">#</a></h3><ul><li><a href="http://dev.apollodata.com/ios/" target="_blank" rel="nofollow noopener noreferrer">Apollo iOS</a> (<a href="https://github.com/apollostack/apollo-ios" target="_blank" rel="nofollow noopener noreferrer">github</a>): 用于iOS的GraphQL客户端, 以特定于查询的Swift类型返回结果, 并与Xcode集成, 并行显示Swift源和GraphQL, 并具有内联错误验证.</li><li><a href="https://github.com/funcompany/graphql-ios" target="_blank" rel="nofollow noopener noreferrer">GraphQL iOS</a>: 一个 Objective-C 实现的 GraphQL iOS客户端.</li></ul><h2><a class="anchor" name=""></a>工具 <a class="hash-link" href="#">#</a></h2><ul><li><a href="https://github.com/graphql/graphiql" target="_blank" rel="nofollow noopener noreferrer">graphiql</a> (<a href="https://www.npmjs.com/package/graphiql" target="_blank" rel="nofollow noopener noreferrer">npm</a>): 一种交互式浏览器 GraphQL IDE.</li><li><a href="https://github.com/graphql/libgraphqlparser" target="_blank" rel="nofollow noopener noreferrer">libgraphqlparser</a>: C/C++ API 查询解析器.</li><li><a href="https://github.com/graphql/graphql-language-service" target="_blank" rel="nofollow noopener noreferrer">Graphql Language Service</a>: 构建 GraphQL 语言服务的交互IDE(包含诊断, 自动补全等).</li></ul><h2><a class="anchor" name=""></a>更多 <a class="hash-link" href="#">#</a></h2><ul><li><a href="https://github.com/chentsulin/awesome-graphql" target="_blank" rel="nofollow noopener noreferrer">awesome-graphql</a>: 一个梦幻般的社区维护图书馆, 资源等的收藏.</li></ul></div></div></div></section><footer><section class="sitemap"><a href="/" class="nav-home"></a><div><h5><a href="/learn/">学习</a></h5><a href="/learn/">介绍</a><a href="/learn/queries/">查询语言</a><a href="/learn/schema/">类型系统</a><a href="/learn/execution/">执行</a><a href="/learn/best-practices/">最佳实践</a></div><div><h5><a href="/code">代码</a></h5><a href="/code/#server-libraries">服务端</a><a href="/code/#graphql-clients">客户端</a><a href="/code/#tools">工具</a></div><div><h5><a href="/community">社区</a></h5><a href="/community/upcoming-events/">最新事件</a><a href="http://stackoverflow.com/questions/tagged/graphql" target="_blank" rel="noopener noreferrer">Stack Overflow</a><a href="https://www.facebook.com/groups/graphql.community/" target="_blank" rel="noopener noreferrer">Facebook 群组</a><a href="https://twitter.com/GraphQL" target="_blank" rel="noopener noreferrer">Twitter</a></div><div><h5>更多</h5><a href="/blog">GraphQL 团队博客</a><a href="http://facebook.github.io/graphql/" target="_blank" rel="noopener noreferrer">阅读定义</a><a href="https://github.com/graphql" target="_blank" rel="noopener noreferrer">GitHub</a><a href="https://github.com/willin/graphql.js.cool/edit/cn/site/code/index.html.js" target="_blank" rel="noopener noreferrer">翻译该页面 ✎</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noopener noreferrer" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2016 Facebook Inc. The contents of this page are licensed BSD-3-Clause. <br/>译者: <a href="https://willin.wang/" target="_blank">Willin Wang</a></section></footer><script src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
        docsearch({
          apiKey: '9177558dc6ad5e773ed3fb2d3e6f9099',
          appId: 'J0T213YR6H',
          indexName: 'graphql',
          inputSelector: '#algolia-search-input'
        });
      </script><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-33096931-4', 'auto');
ga('send', 'pageview');
      </script></body></html>